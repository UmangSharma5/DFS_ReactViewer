{"ast":null,"code":"import _regeneratorRuntime from \"/home/umang/iHub/DFS_ReactViewer/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/umang/iHub/DFS_ReactViewer/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/home/umang/iHub/DFS_ReactViewer/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/umang/iHub/DFS_ReactViewer/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/umang/iHub/DFS_ReactViewer/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/umang/iHub/DFS_ReactViewer/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { BaseClient, BaseResponse } from './base.js';\nvar FetchResponse = /*#__PURE__*/function (_BaseResponse) {\n  _inherits(FetchResponse, _BaseResponse);\n  var _super = _createSuper(FetchResponse);\n  /**\n   * BaseResponse facade for fetch API Response\n   * @param {Response} response\n   */\n  function FetchResponse(response) {\n    var _this;\n    _classCallCheck(this, FetchResponse);\n    _this = _super.call(this);\n    _this.response = response;\n    return _this;\n  }\n  _createClass(FetchResponse, [{\n    key: \"status\",\n    get: function get() {\n      return this.response.status;\n    }\n  }, {\n    key: \"getHeader\",\n    value: function getHeader(name) {\n      return this.response.headers.get(name);\n    }\n  }, {\n    key: \"getData\",\n    value: function () {\n      var _getData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var data;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (!this.response.arrayBuffer) {\n                _context.next = 6;\n                break;\n              }\n              _context.next = 3;\n              return this.response.arrayBuffer();\n            case 3:\n              _context.t0 = _context.sent;\n              _context.next = 9;\n              break;\n            case 6:\n              _context.next = 8;\n              return this.response.buffer();\n            case 8:\n              _context.t0 = _context.sent.buffer;\n            case 9:\n              data = _context.t0;\n              return _context.abrupt(\"return\", data);\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function getData() {\n        return _getData.apply(this, arguments);\n      }\n      return getData;\n    }()\n  }]);\n  return FetchResponse;\n}(BaseResponse);\nexport var FetchClient = /*#__PURE__*/function (_BaseClient) {\n  _inherits(FetchClient, _BaseClient);\n  var _super2 = _createSuper(FetchClient);\n  function FetchClient(url, credentials) {\n    var _this2;\n    _classCallCheck(this, FetchClient);\n    _this2 = _super2.call(this, url);\n    _this2.credentials = credentials;\n    return _this2;\n  }\n  _createClass(FetchClient, [{\n    key: \"request\",\n    value: function () {\n      var _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var _ref,\n          headers,\n          credentials,\n          signal,\n          response,\n          _args2 = arguments;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _ref = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : {}, headers = _ref.headers, credentials = _ref.credentials, signal = _ref.signal;\n              _context2.next = 3;\n              return fetch(this.url, {\n                headers: headers,\n                credentials: credentials,\n                signal: signal\n              });\n            case 3:\n              response = _context2.sent;\n              return _context2.abrupt(\"return\", new FetchResponse(response));\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function request() {\n        return _request.apply(this, arguments);\n      }\n      return request;\n    }()\n  }]);\n  return FetchClient;\n}(BaseClient);","map":{"version":3,"names":["BaseClient","BaseResponse","FetchResponse","_BaseResponse","_inherits","_super","_createSuper","response","_this","_classCallCheck","call","_createClass","key","get","status","value","getHeader","name","headers","_getData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_callee$","_context","prev","next","arrayBuffer","t0","sent","buffer","abrupt","stop","getData","apply","arguments","FetchClient","_BaseClient","_super2","url","credentials","_this2","_request","_callee2","_ref","signal","_args2","_callee2$","_context2","length","undefined","fetch","request"],"sources":["/home/umang/iHub/DFS_ReactViewer/client/node_modules/geotiff/dist-module/source/client/fetch.js"],"sourcesContent":["import { BaseClient, BaseResponse } from './base.js';\n\nclass FetchResponse extends BaseResponse {\n  /**\n   * BaseResponse facade for fetch API Response\n   * @param {Response} response\n   */\n  constructor(response) {\n    super();\n    this.response = response;\n  }\n\n  get status() {\n    return this.response.status;\n  }\n\n  getHeader(name) {\n    return this.response.headers.get(name);\n  }\n\n  async getData() {\n    const data = this.response.arrayBuffer\n      ? await this.response.arrayBuffer()\n      : (await this.response.buffer()).buffer;\n    return data;\n  }\n}\n\nexport class FetchClient extends BaseClient {\n  constructor(url, credentials) {\n    super(url);\n    this.credentials = credentials;\n  }\n\n  async request({ headers, credentials, signal } = {}) {\n    const response = await fetch(this.url, {\n      headers, credentials, signal,\n    });\n    return new FetchResponse(response);\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}