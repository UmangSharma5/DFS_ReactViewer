{"ast":null,"code":"import _toConsumableArray from\"/home/umang/iHub/DFS_ReactViewer/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/umang/iHub/DFS_ReactViewer/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import RenderFile from'./RenderFile';import'./GetFiles.css';import{config}from\"../config\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";function GetFiles(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),backendData=_useState2[0],setBackendData=_useState2[1];var isFirstRender=React.useRef(true);useEffect(function(){if(isFirstRender.current){getFiles();isFirstRender.current=false;return;}else{var latest_file=props.fileObj.name.name;setBackendData(function(preValue){return[].concat(_toConsumableArray(preValue),[latest_file]);});}},[props.fileObj.count]);function getFiles(){axios.get(\"\".concat(config.BASE_URL,\"/objects/\").concat(props.email)).then(function(response){setBackendData(response.data.objects);}).catch(function(error){console.log(error);});}return/*#__PURE__*/_jsx(\"div\",{className:\"get-files-container\",children:backendData!==undefined?/*#__PURE__*/_jsx(RenderFile,{currFile:props.fileObj.name.name,info:backendData,uploadStatus:props.uploadStatus,email:props.email}):null});}export default GetFiles;","map":{"version":3,"names":["React","useState","useEffect","RenderFile","config","axios","jsx","_jsx","GetFiles","props","_useState","_useState2","_slicedToArray","backendData","setBackendData","isFirstRender","useRef","current","getFiles","latest_file","fileObj","name","preValue","concat","_toConsumableArray","count","get","BASE_URL","email","then","response","data","objects","catch","error","console","log","className","children","undefined","currFile","info","uploadStatus"],"sources":["/home/umang/iHub/DFS_ReactViewer/client/src/components/GetFiles.js"],"sourcesContent":["import React,{useState,useEffect} from \"react\";\nimport RenderFile from './RenderFile';\nimport './GetFiles.css'\nimport { config } from \"../config\";\nimport axios from \"axios\";\n\nfunction GetFiles(props){\n    const [backendData,setBackendData] = useState([]);\n    const isFirstRender = React.useRef(true);\n    useEffect(() => {\n        if(isFirstRender.current){\n            getFiles();\n            isFirstRender.current = false;\n            return;\n        }else{\n            const latest_file = props.fileObj.name.name;\n            setBackendData((preValue)=>\n                [...preValue,latest_file]\n            )\n        }\n    }, [props.fileObj.count]);\n\n    function getFiles() {\n        axios.get(`${config.BASE_URL}/objects/${props.email}`)\n        .then(response => {\n          setBackendData(response.data.objects);\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    }\n\n    return (\n        <div className=\"get-files-container\">\n            {backendData!== undefined ? <RenderFile currFile={props.fileObj.name.name} info ={backendData} uploadStatus= {props.uploadStatus} email={props.email}/> : null} \n        </div>\n    )\n}\n\nexport default GetFiles;"],"mappings":"kQAAA,MAAO,CAAAA,KAAK,EAAEC,QAAQ,CAACC,SAAS,KAAO,OAAO,CAC9C,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,gBAAgB,CACvB,OAASC,MAAM,KAAQ,WAAW,CAClC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1B,QAAS,CAAAC,QAAQA,CAACC,KAAK,CAAC,CACpB,IAAAC,SAAA,CAAqCT,QAAQ,CAAC,EAAE,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA1CG,WAAW,CAAAF,UAAA,IAACG,cAAc,CAAAH,UAAA,IACjC,GAAM,CAAAI,aAAa,CAAGf,KAAK,CAACgB,MAAM,CAAC,IAAI,CAAC,CACxCd,SAAS,CAAC,UAAM,CACZ,GAAGa,aAAa,CAACE,OAAO,CAAC,CACrBC,QAAQ,CAAC,CAAC,CACVH,aAAa,CAACE,OAAO,CAAG,KAAK,CAC7B,OACJ,CAAC,IAAI,CACD,GAAM,CAAAE,WAAW,CAAGV,KAAK,CAACW,OAAO,CAACC,IAAI,CAACA,IAAI,CAC3CP,cAAc,CAAC,SAACQ,QAAQ,WAAAC,MAAA,CAAAC,kBAAA,CAChBF,QAAQ,GAACH,WAAW,IAC5B,CAAC,CACL,CACJ,CAAC,CAAE,CAACV,KAAK,CAACW,OAAO,CAACK,KAAK,CAAC,CAAC,CAEzB,QAAS,CAAAP,QAAQA,CAAA,CAAG,CAChBb,KAAK,CAACqB,GAAG,IAAAH,MAAA,CAAInB,MAAM,CAACuB,QAAQ,cAAAJ,MAAA,CAAYd,KAAK,CAACmB,KAAK,CAAE,CAAC,CACrDC,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAChBhB,cAAc,CAACgB,QAAQ,CAACC,IAAI,CAACC,OAAO,CAAC,CACvC,CAAC,CAAC,CACDC,KAAK,CAAC,SAAAC,KAAK,CAAI,CACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CACpB,CAAC,CAAC,CACN,CAEA,mBACI3B,IAAA,QAAK8B,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAC/BzB,WAAW,GAAI0B,SAAS,cAAGhC,IAAA,CAACJ,UAAU,EAACqC,QAAQ,CAAE/B,KAAK,CAACW,OAAO,CAACC,IAAI,CAACA,IAAK,CAACoB,IAAI,CAAG5B,WAAY,CAAC6B,YAAY,CAAGjC,KAAK,CAACiC,YAAa,CAACd,KAAK,CAAEnB,KAAK,CAACmB,KAAM,CAAC,CAAC,CAAG,IAAI,CAC7J,CAAC,CAEd,CAEA,cAAe,CAAApB,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}